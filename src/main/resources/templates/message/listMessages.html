<html>

<head>
	<title>GESTI-BANQUE</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body style="margin: 0.5%;">
	<div th:replace="fragments/header::header" />
	<div th:replace="fragments/navbar::navbar" />
	<header>
		<a th:href="@{/home}" type="button" class="btn btn-outline-secondary">Home</a>
		<br />
		<h2 align="center" style="background-color: brown;">Liste des messages</h2>
		<br/ >
	</header>
	<main>
		
		<form th:action="@{/messages/findByDate}" method="get">
			<input type="search" name="date" />
			<button type="submit">Rechercher</button>
		</form>
		<table border="4" align="center" class="table">
			<tr>
				<th>Id du message</th>
				<th>Sujet</th>
				<th>Description</th>
				<th>Date</th>
				<th>Email</th>
				<th>Modifier</th>
				<th>Suppression</th>
			</tr>

			<tr th:each="message:${messages}">
				<td th:text="${message.id}"></td>
				<td th:text="${message.sujet}"></td>
				<td th:text="${message.description}"></td>
				<td th:text="${message.dateCreation}"></td>
				<td th:text="${message.email}"></td>
				<td><a th:href="@{update/{id}(id=${message.id})}" class="btn btn-info">Modifier</a></td>
				<td><a th:href="@{delete/{id}(id=${message.id})}" class="btn btn-danger">Supprimer</a></td>
			</tr>

		</table>
		<a th:href="@{/messages/save}" class="btn btn-primary">Ajouter</a>
	</main>
</body>

</html>